<script lang="ts">
    import { page } from "$app/stores"
    import Nav from "$lib/sections/global/Nav.svelte";
    import { gsap } from "gsap"
    import { onMount } from "svelte"

    let aperturePath: SVGPathElement

    onMount(() => {
        // rotate logo
        gsap.to(aperturePath, {
            rotation: 360,
            transformOrigin: 'center',
            ease: 'none',
            duration: 20,
            repeat: -1,
        })
    })
</script>

<style lang="scss">

    :global(body) {background: $color-dark} //temp


    header {
        background-color: $color-light;
        box-shadow: $shadow;
        border-radius: 0 0 2rem 2rem;
        position: sticky;

        > div {
            padding-block: 1rem;
            display: flex;
            align-items: center;
            @include container(xl);

            svg {
                height: 4rem;

                path {
                    fill: $color-dark;
                }
            }
        }
    }
</style>

<template>
    <header>
        <div>
            <a href="/" aria-current={$page.url.pathname == '/' ? 'page' : null}>
                <svg viewBox="0 0 405.74014 245.71053" xmlns="http://www.w3.org/2000/svg">
                    <path d="m 64.044967,200.00008 c 46.348333,0 70.786543,-23.87642 70.786543,-72.47194 V 0 H 20.505622 v 36.51687 h 69.101155 v 93.53936 c 0,21.62922 -9.55057,32.58428 -27.809,32.58428 -14.04495,0 -25.842711,-7.30337 -36.516872,-21.62922 L -4e-6,171.34838 c 14.325848,18.53933 37.640464,28.6517 64.044971,28.6517 z"/>
                    <path bind:this={aperturePath} d="m 244.83008,0 c -55.09511,0 -100,44.9049 -100,100 0,55.09511 44.90489,100 100,100 55.09511,0 100,-44.90489 100,-100 0,-55.0951 -44.90489,-100 -100,-100 z m 0,22.5 c 42.93523,0 77.5,34.56477 77.5,77.5 0,42.93524 -34.56477,77.5 -77.5,77.5 -42.93523,0 -77.5,-34.56476 -77.5,-77.5 0,-42.93523 34.56477,-77.5 77.5,-77.5 z m 0.002,4.96484 a 72.8576,72.535346 0 0 0 -26.30859,5.11524 l 39.16015,39.16015 4.73047,4.73047 5.94727,5.94727 V 31.37305 a 72.8576,72.535346 0 0 0 -23.5293,-3.90821 z m 29.07031,6.03907 v 62.29101 8.41016 l 36.26367,-36.26367 a 72.8576,72.535346 0 0 0 -36.26367,-34.4375 z m -60.92773,1.36328 a 72.8576,72.535346 0 0 0 -34.66602,36.0625 h 62.31836 8.41016 z m 99.60742,38.49414 -39.49219,39.49219 -4.72851,4.72851 -5.94922,5.94727 H 313.6602 A 72.8576,72.535346 0 0 0 317.6895,100 72.8576,72.535346 0 0 0 312.58208,73.36133 Z M 176.0039,76.4707 A 72.8576,72.535346 0 0 0 171.97265,100 a 72.8576,72.535346 0 0 0 5.26172,26.48633 l 39.33789,-39.33789 4.73047,-4.73047 5.94727,-5.94727 z m 39.75782,19.32422 -36.22657,36.22461 a 72.8576,72.535346 0 0 0 36.22657,34.26172 v -55.38672 -6.6875 z m 5.54101,21.78711 v 50.98438 a 72.8576,72.535346 0 0 0 23.5293,3.96875 72.8576,72.535346 0 0 0 26.30859,-5.11524 L 231.97851,128.25977 227.25,123.5293 Z m 19.32422,11.48828 36.06055,36.0625 a 72.8576,72.535346 0 0 0 34.66601,-36.0625 h -55.6289 -6.6875 z"/>
                    <path d="m 405.74012,151.41831 c -9.40606,7.44243 -18.81213,14.88485 -28.21819,22.32728 -7.56364,-7.0303 -15.12728,-14.06061 -22.69092,-21.09091 0,4.36364 0,8.72727 0,13.09091 7.92728,7.51515 15.85455,15.03031 23.78183,22.54546 -7.92728,0 -15.85455,0 -23.78183,0 0,3.90303 0,7.80607 0,11.7091 16.9697,0 33.93941,0 50.90911,0 0,-3.90303 0,-7.80607 0,-11.7091 -4.29091,0 -8.58182,0 -12.87273,0 -2.37576,-2.27879 -4.75152,-4.55757 -7.12728,-6.83636 6.66667,-5.43031 13.33334,-10.86061 20.00001,-16.29092 0,-4.58182 0,-9.16364 0,-13.74546 z m -21.23637,-16.94544 c 0,-7.87879 0,-15.75759 0,-23.63638 -3.05455,0 -6.10909,0 -9.16364,0 0,7.87879 0,15.75759 0,23.63638 -3.68485,0 -7.3697,0 -11.05455,0 0,-8.92122 0,-17.84243 0,-26.76365 -3.15152,0 -6.30303,0 -9.45455,0 0,12.82425 0,25.64849 0,38.47274 16.9697,0 33.93941,0 50.90911,0 0,-13.1394 0,-26.2788 0,-39.4182 -3.15152,0 -6.30303,0 -9.45455,0 0,9.23637 0,18.47274 0,27.70911 -3.92727,0 -7.85455,0 -11.78182,0 z m 1.23636,-72.14545 c -10.30303,8.43637 -20.60607,16.87273 -30.9091,25.3091 0,3.24849 0,6.49697 0,9.74546 16.9697,0 33.93941,0 50.90911,0 0,-3.87879 0,-7.75758 0,-11.63637 -10.30303,0 -20.60607,0 -30.9091,0 10.30303,-8.46061 20.60607,-16.92122 30.9091,-25.38183 0,-3.22424 0,-6.44849 0,-9.67273 -16.9697,0 -33.93941,0 -50.90911,0 0,3.87879 0,7.75758 0,11.63637 10.30303,0 20.60607,0 30.9091,0 z M 405.74012,16.291 c -13.7697,0 -27.53941,0 -41.30911,0 0,-5.4303 0,-10.86061 0,-16.29091 -3.2,0 -6.4,0 -9.6,0 0,14.78788 0,29.57577 0,44.36365 3.2,0 6.4,0 9.6,0 0,-5.4303 0,-10.86061 0,-16.29091 13.7697,0 27.53941,0 41.30911,0 0,-3.92728 0,-7.85455 0,-11.78183 z"/>
                    <path d="m -3e-6,210.59177 v 34.52687 h 7.990504 v -9.51955 h 6.954698 c 9.223607,0 14.994527,-4.78444 14.994527,-12.479 0,-7.74388 -5.77092,-12.52832 -14.994527,-12.52832 z m 7.990504,18.49654 v -11.98576 h 6.510781 c 4.883086,0 7.349291,2.21958 7.349291,6.01754 0,3.74863 -2.466205,5.96822 -7.349291,5.96822 z m 51.297076,-4.88309 H 43.602508 v -13.61345 h -7.990504 v 34.52687 h 7.990504 v -14.15602 h 15.685069 v 14.15602 h 7.9905 v -34.52687 h -7.9905 z m 32.8992,21.50531 c 10.851303,0 18.891133,-7.54659 18.891133,-17.85533 0,-10.30873 -8.03983,-17.85532 -18.891133,-17.85532 -10.90062,0 -18.89113,7.59591 -18.89113,17.85532 0,10.25942 7.99051,17.85533 18.89113,17.85533 z m 0,-6.80673 c -6.16551,0 -10.80198,-4.48849 -10.80198,-11.0486 0,-6.5601 4.63647,-11.04859 10.80198,-11.04859 6.16551,0 10.801983,4.48849 10.801983,11.04859 0,6.56011 -4.636473,11.0486 -10.801983,11.0486 z m 39.557913,6.21484 v -28.01609 h 11.0486 v -6.51078 h -30.08771 v 6.51078 h 11.0486 v 28.01609 z m 31.56741,0.59189 c 10.8513,0 18.89113,-7.54659 18.89113,-17.85533 0,-10.30873 -8.03983,-17.85532 -18.89113,-17.85532 -10.90062,0 -18.89113,7.59591 -18.89113,17.85532 0,10.25942 7.99051,17.85533 18.89113,17.85533 z m 0,-6.80673 c -6.16551,0 -10.80198,-4.48849 -10.80198,-11.0486 0,-6.5601 4.63647,-11.04859 10.80198,-11.04859 6.16551,0 10.80198,4.48849 10.80198,11.04859 0,6.56011 -4.63647,11.0486 -10.80198,11.0486 z m 48.23896,-1.47972 c -2.02228,1.08513 -4.04457,1.47972 -6.21483,1.47972 -6.60943,0 -11.19657,-4.58714 -11.19657,-11.0486 0,-6.5601 4.58714,-11.04859 11.29521,-11.04859 3.50202,0 6.41214,1.2331 8.92767,3.8966 l 5.1297,-4.73511 c -3.35404,-3.89661 -8.38509,-5.96822 -14.45196,-5.96822 -10.99927,0 -18.98978,7.44794 -18.98978,17.85532 0,10.40739 7.99051,17.85533 18.84181,17.85533 4.93241,0 10.16076,-1.52905 13.95872,-4.38985 v -14.00804 h -7.29997 z m 37.53565,-3.40336 c 4.48849,-1.92364 7.10267,-5.7216 7.10267,-10.90063 0,-7.74388 -5.77092,-12.52832 -14.99453,-12.52832 h -14.9452 v 34.52687 h 7.9905 v -9.6182 h 6.9547 0.39459 l 6.65876,9.6182 h 8.58239 z m -0.98648,-10.90063 c 0,3.74863 -2.46621,6.01754 -7.3493,6.01754 h -6.51078 v -12.03508 h 6.51078 c 4.88309,0 7.3493,2.21958 7.3493,6.01754 z m 48.58427,21.99855 -15.43844,-34.52687 h -7.89186 l -15.38912,34.52687 h 8.1878 l 3.0581,-7.39862 h 16.03033 l 3.05809,7.39862 z m -19.4337,-26.68434 5.47498,13.21886 h -10.94995 z m 23.03439,-7.84253 v 34.52687 h 7.9905 v -9.51955 h 6.9547 c 9.22361,0 14.99453,-4.78444 14.99453,-12.479 0,-7.74388 -5.77092,-12.52832 -14.99453,-12.52832 z m 7.9905,18.49654 v -11.98576 h 6.51078 c 4.88309,0 7.34929,2.21958 7.34929,6.01754 0,3.74863 -2.4662,5.96822 -7.34929,5.96822 z m 51.29706,-4.88309 h -15.68506 v -13.61345 h -7.9905 v 34.52687 h 7.9905 v -14.15602 h 15.68506 v 14.15602 h 7.99051 v -34.52687 h -7.99051 z m 38.32487,-13.61345 -9.22361,15.33979 -9.2236,-15.33979 h -8.48375 l 13.36683,22.19584 v 12.33103 h 7.99051 v -12.23238 l 13.41615,-22.29449 z"/>
                </svg>
            </a>
            <Nav />
        </div>
    </header>
    <main>

        <slot/>
    </main>
    <footer>

    </footer>
</template>